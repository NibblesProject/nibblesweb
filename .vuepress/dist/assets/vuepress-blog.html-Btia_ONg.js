import{_ as a,r as n,o as p,c as i,b as e,d as t,e as o,a as r}from"./app-D4ksCkgp.js";const d="/uploads/2024/08/2024082404134370.gif",l="/uploads/2024/08/2024082403565163.gif",c="/uploads/2024/08/2024082404245038.png",h="/uploads/2024/08/2024082404464656.png",u="/uploads/2024/08/2024082404481779.png",m="/uploads/2024/08/2024082404575497.png",g="/uploads/2024/08/2024082405010040.png",b="/uploads/2024/08/2024082407332569.png",_="/uploads/2024/08/2024082408162892.png",v="/uploads/2024/08/2024082408434768.png",f="/uploads/2024/08/2024082409061287.png",x={},k=r('<h1 id="vuepress-——-全流程建立博客的另一灾备方案" tabindex="-1"><a class="header-anchor" href="#vuepress-——-全流程建立博客的另一灾备方案"><span>VuePress —— 全流程建立博客的另一灾备方案</span></a></h1><p>Another disaster recovery plan for the blog: VuePress. I want to share VuePress programing experience.</p><h2 id="为什么要做这一方案" tabindex="-1"><a class="header-anchor" href="#为什么要做这一方案"><span>为什么要做这一方案？</span></a></h2><p>作为站长的我们首先要确保博客业务的连续性，还有文章等数据的备份。次之还有备份站运营成本上的考虑，其中本站采用的是知名的WordPress程序，在Docker容器中运行，虽然说容器本身迁移方便，但是如果这台VPS一时出问题了，那么还是要买且迁移到新的VPS来，对于维护成本来说还是有点高的。</p><p>而且现在的Serverless开发平台（也就是vercel、netlify、zeabur）免费计划中跑VuePress静态站点绰绰有余，然后静态站前端代码从GitHub 仓库里抓取，每次我们对博客的修改，从本地git到仓库中，然后触发Serverless的重新构建机制，域名的话可以用*.eu.org，这样整套流程下来没有💴上的成本，且网站都在国外也不会因国内原因导致无法访问甚至封禁，本地也保存了网站的数据。</p><h2 id="写在建站前你必须要的" tabindex="-1"><a class="header-anchor" href="#写在建站前你必须要的"><span>写在建站前你必须要的</span></a></h2>',6),w=e("li",null,"基本的电脑操作知识（知道怎么装软件，知道怎么复制粘贴，会用代码编辑器的基本功能即可）",-1),V={href:"https://steampp.net/",target:"_blank",rel:"noopener noreferrer"},y=e("li",null,"有Github账号（新手注册登录即可）",-1),S=e("li",null,"合适的翻译工具，最好支持截图翻译",-1),z=e("li",null,"会写MarkDown文件",-1),P=e("li",null,"一个能随时回答你发的问题的AI，如kimi.ai",-1),G=r(`<h2 id="具体实现流程" tabindex="-1"><a class="header-anchor" href="#具体实现流程"><span>具体实现流程</span></a></h2><h3 id="_1、nodejs环境部署" tabindex="-1"><a class="header-anchor" href="#_1、nodejs环境部署"><span>1、NodeJS环境部署</span></a></h3><p>NodeJS的版本不建议太高，优先选择LTS（长期支持版本），博主选用的是<code>v18.20.4(LTS x64)</code></p><p>【挂proxy】官网下载：https://nodejs.org/dist/v18.20.4/node-v18.20.4-x64.msi 中文镜像站：https://npmmirror.com/mirrors/node/v18.20.4/node-v18.20.4-x64.msi</p><p>直接默认安装位置即可，NodeJS程序本身只有几十MB。在安装过程到 <code>tools for native modules</code> 步骤的时候，不要勾选，然后下一步直到安装完成即可，安装完后还需重启系统。</p><p>检查版本，【Win+R快捷键输入cmd调出终端】</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">node -v   #开头是node，不是nodejs！</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>出现v18.20.4即安装成功。</p><p>本篇我们采用<code>npx</code>安装，类似于<code>npm</code>，它们都是NodeJS里预置的软件包管理器。什么意思倒不用在意，只是知道它们是指令的开头即可。</p><p>然后为了后续的访问速度还要换镜像源：https://nibbles.cyou/shift-source.html</p><h3 id="_2、vuepress-安装" tabindex="-1"><a class="header-anchor" href="#_2、vuepress-安装"><span>2、VuePress 安装</span></a></h3><p>博主选择的是带主题的<code>vuepress-reco</code>：https://theme-reco.vuejs.press/</p><h4 id="打开cmd" tabindex="-1"><a class="header-anchor" href="#打开cmd"><span>打开cmd</span></a></h4><p>创建一个文件夹（这路径上不能有中文）并让cmd执行路径指向此处：</p><p>法一【Win11/10】：找到系统自带的“终端”软件，在设置中更改默认为cmd，然后直接在文件夹里右键，选择“在终端中打开”。若没有可以去Microsoft Store里下载“终端”这个软件。</p><p><img src="`+d+'" alt="img"></p><p>法二【更简单】：更改路径栏为cmd，则打开的cmd直接就指向这个路径了。</p><p><img src="'+l+`" alt="img"></p><h4 id="npx命令安装并初始化" tabindex="-1"><a class="header-anchor" href="#npx命令安装并初始化"><span>npx命令安装并初始化</span></a></h4><p>文档里，revili可视化搭建部署起来还是会有点问题。所以直接用下面的一行命令（npx开头的）</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line"># 初始化，并选择 2.x</span>
<span class="line">npx @vuepress-reco/theme-cli init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>输入后待其下载完后会进入初始化选项</p><p><img src="`+c+'" alt="img"></p><p>第一问中：新的目录指的是在cmd指向的文件夹下再新建一个文件夹。(Y/n)，若是的话需要先开大写锁定（键盘上的capslock）后打y，若不是就n。一般情况下空文件夹里创建此项目可以直接n。</p><p>除了最后一个问题和第一个问题，其他均可后期更改 <code>config.ts</code> 里的配置改变。</p><h3 id="_3、配置vuepress-reco主题" tabindex="-1"><a class="header-anchor" href="#_3、配置vuepress-reco主题"><span>3、配置VuePress-reco主题</span></a></h3><h4 id="准备工作与层级关系" tabindex="-1"><a class="header-anchor" href="#准备工作与层级关系"><span>准备工作与层级关系</span></a></h4>',27),j={href:"https://www.jetbrains.com/zh-cn/webstorm/download/#section=windows",target:"_blank",rel:"noopener noreferrer"},N={href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"},E=r('<p>为了让我们的网站在更改后能及时看到，可以先dev运行下。在编辑器里打开文件夹后，打开<code> package.json</code> 即可看到运行的按钮：</p><img src="'+h+'" alt="webstorm" style="zoom:33%;"><img src="'+u+'" alt="webstorm" style="zoom:33%;"><p>初次运行成功时候，看到下方的编辑器内置的终端窗口中会弹出两个链接：</p><img src="'+m+'" alt="webstorm" style="zoom:50%;"><p>Local所指的是只能本地电脑访问的， Network所指的是指内网里的设备都可以访问的，但外网无法访问。</p><p>改配置的时候，建议把浏览器窗口和编辑器窗口精简化，并排成两列的布局。<img src="'+g+'" alt="webstorm" style="zoom:25%;"></p><table><thead><tr><th>要更改的地方</th><th>配置文件</th></tr></thead><tbody><tr><td>公告侧边弹窗</td><td><code>config.ts</code> 45行-98行bulletin</td></tr><tr><td>首页模块及内容</td><td><code>README.md</code> Frontmatter</td></tr><tr><td>首页顶部导航栏</td><td><code>config.ts</code> 33行-44行navbar</td></tr><tr><td>网站logo和作者头像</td><td><code>.vuepress/public</code> 替换同名文件，<code>logo.png</code>和<code>head.png</code></td></tr><tr><td>首页右上角固定的Github地址指向</td><td><code>config.ts</code> 第16行docsRepo</td></tr></tbody></table><p>这里只是一部分常用的需要改的地方</p><p>⭐ 配置文件更改时候最重要的是： <strong>注意层级</strong> ！让我们解析一下config.ts的前半段：</p><p><img src="'+b+'" alt="img"></p><p>各种不同颜色的圈圈，同样的颜色代表此为成对出现的。</p><p>值得一提的是，作者在原文档中部分的冒号为全角的冒号，他是打错了，但该配置的时候大家要认清并改过来哦！ 半角就是英文输入法下输入的，全角是中文输入法下的。半角<code>:</code> ，全角<code>：</code>比较紧凑要改！</p><p>尽量各条语句之间开头对齐，用缩进清晰明了地展示层级关系。</p><p>能改的仅有引号内的内容，若要删去或者添加需要按照格式整对注释或添加，有的参数不用的可以移到注释里。快速注释方法：【CTRL+/】</p><p>参数名称一般对应着这东西到底是用来干嘛的，可以借助截图翻译软件通过单词意思来填上合适的内容。</p><h4 id="markdown中的frontmatter" tabindex="-1"><a class="header-anchor" href="#markdown中的frontmatter"><span>MarkDown中的Frontmatter</span></a></h4><p>Frontmatter即是MarkDown文件中被两行<code> ---</code> 括起来的部分</p><p>文档中关于Frontmatter首页设置：https://theme-reco.vuejs.press/docs/theme/frontmatter-home.html</p><p>也是要按照格式一个个填，不过没有了引号和<code>,</code>结尾，但是一定要注意缩进。文档页面中最后有全部都应用上去的示例，可以先全部复制上，然后再删改。</p><p>注意，Frontmatter是会被主题解析的，各部分参数会显示到指定位置。---框起来以外的位置就是<code>README.md</code>的正文了，也就是<code>MdContent module</code>显示在首页上的内容。</p><h3 id="_4、vite生成静态网页目录" tabindex="-1"><a class="header-anchor" href="#_4、vite生成静态网页目录"><span>4、Vite生成静态网页目录</span></a></h3><img src="'+_+'" alt="webstorm" style="zoom:50%;"><p>点击此按钮开始build静态文件，当终端出现绿色的done的字样即代表生成完毕。（VSCode类似）</p><p>生成到了 <code>.vuepress/dist</code> 这个目录下面。</p><p>注意，每次更改（比如加文章、改样式）都需要重新生成一遍！</p><h3 id="_5、上传到github" tabindex="-1"><a class="header-anchor" href="#_5、上传到github"><span>5、上传到Github</span></a></h3><p>为了我们后续部署到Serverless平台，所以此处我们先利用Git上传到Github上。</p><p>Git官网下载：https://github.com/git-for-windows/git/releases/download/v2.46.0.windows.1/Git-2.46.0-64-bit.exe 安装过程直接一路下一步下去。</p><p>Github上创建一个new repository：https://github.com/new ，并对此命名，然后<code>Create repository</code>确认创建。新创建的里面不会有什么东西，但给了git的代码教程：</p><p><img src="'+v+'" alt="img"></p><p>Git要加速使用系统proxy的话可以看：https://nibbles.cyou/shift-source.html</p>',32),M={href:"https://desktop.github.com/download/",target:"_blank",rel:"noopener noreferrer"},D=r('<p>之后把整个项目文件夹（不只是.vuepress）全部拖到同步文件夹中让客户端上传上去。在提交的时候需要自己写一点commit日志，比如如上的first commit。</p><p>以后每次只要网页目录有变动，就及时使用git或Github Desktop上传。</p><h3 id="_6、部署到zeabur" tabindex="-1"><a class="header-anchor" href="#_6、部署到zeabur"><span>6、部署到zeabur</span></a></h3><p>zeabur：https://zeabur.com</p><p>邮箱注册后会发送登陆链接到你的邮箱，从邮件中的链接进去即是后台。</p><p>创建项目→新建服务→Github（从Github仓库部署）→选择刚创建的存网页的仓库</p><p>然后趁机还没运行完毕，下拉找到设置→根目录，修改为<code>/.vuepress/dist</code></p><p>回到上面”重新部署“，等待片刻，当出现运行中并有绿点则代表部署成功。</p><p>如果需要测试访问，可以直接使用一个zeabur.app的二级域名：下拉，网络→公开→生成域名→填入你喜欢的前缀，稍等下就可以使用 <code>填的前缀.zeabur.app </code>来访问了。</p><h3 id="_7、免费域名eu-org" tabindex="-1"><a class="header-anchor" href="#_7、免费域名eu-org"><span>7、免费域名eu.org</span></a></h3><blockquote><p>免费获取 EU.org 顶级域名丨岚天小窝</p><p>https://blog.ltya.top/posts/eu-org.shtml</p></blockquote><p>更改为自己申请到的eu.org域名：下拉，网络→公开→自定义域名→到解析服务那里CNAME解析，如下</p><p><img src="'+f+'" alt="img"></p><p>稍等片刻，即可直接访问了~</p><hr><p>看到这里的你应该能手搓出一个VuePress的站点了吧~ 还有问题的话不妨问问AI哦。</p><p>既然有了自己的站点，那就努力更新内容吧！</p>',17);function C(T,A){const s=n("ExternalLinkIcon");return p(),i("div",null,[k,e("ol",null,[w,e("li",null,[t("有个合适的国外proxy，"),e("a",V,[t("Watt Toolkit"),o(s)]),t("中也有免费的Github加速选项可以试试")]),y,S,z,P]),G,e("p",null,[t("我喜欢用"),e("a",j,[t("WebStorm"),o(s)]),t("来改配置，当然你使用"),e("a",N,[t("VSCode"),o(s)]),t("也行，不过最好不要用“记事本”！")]),E,e("p",null,[t("如果你不太想输入很多命令的话（看着不多，其实后面git add的时候需要加很多文件），可以试下"),e("a",M,[t("Github Desktop"),o(s)]),t("，安装后登录账号密码，然后把仓库拉取到本地并作为同步文件夹。")]),D])}const L=a(x,[["render",C],["__file","vuepress-blog.html.vue"]]),R=JSON.parse('{"path":"/blogs/jishuxuexi/vuepress-blog.html","title":"VuePress —— 全流程建立博客的另一灾备方案","lang":"en-US","frontmatter":{"title":"VuePress —— 全流程建立博客的另一灾备方案","date":"2024/8/24","tags":["VuePress"],"categories":["技术学习"]},"headers":[{"level":2,"title":"为什么要做这一方案？","slug":"为什么要做这一方案","link":"#为什么要做这一方案","children":[]},{"level":2,"title":"写在建站前你必须要的","slug":"写在建站前你必须要的","link":"#写在建站前你必须要的","children":[]},{"level":2,"title":"具体实现流程","slug":"具体实现流程","link":"#具体实现流程","children":[{"level":3,"title":"1、NodeJS环境部署","slug":"_1、nodejs环境部署","link":"#_1、nodejs环境部署","children":[]},{"level":3,"title":"2、VuePress 安装","slug":"_2、vuepress-安装","link":"#_2、vuepress-安装","children":[]},{"level":3,"title":"3、配置VuePress-reco主题","slug":"_3、配置vuepress-reco主题","link":"#_3、配置vuepress-reco主题","children":[]},{"level":3,"title":"4、Vite生成静态网页目录","slug":"_4、vite生成静态网页目录","link":"#_4、vite生成静态网页目录","children":[]},{"level":3,"title":"5、上传到Github","slug":"_5、上传到github","link":"#_5、上传到github","children":[]},{"level":3,"title":"6、部署到zeabur","slug":"_6、部署到zeabur","link":"#_6、部署到zeabur","children":[]},{"level":3,"title":"7、免费域名eu.org","slug":"_7、免费域名eu-org","link":"#_7、免费域名eu-org","children":[]}]}],"git":{"createdTime":1724493023000,"updatedTime":1724493023000,"contributors":[{"name":"NibblesProject","email":"me@nibbles.cn","commits":1}]},"filePathRelative":"blogs/技术学习/vuepress-blog.md"}');export{L as comp,R as data};
